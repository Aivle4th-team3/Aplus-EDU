{% load static %}
{% load markdown_tags %}

<div id="consent" style="position: absolute; top:5%; align-self: center; z-index: 99;">
  <div class="card" style="width: 40rem;">
    <div class="card-body">
      <div class="text-center">
        <img src="{% static 'frontdoor/img/EDU.png' %}" style="width: 10%; margin-top:10px; margin-bottom: -30px;" />
      </div>
      <div class="row mt-5">
        <div class="col-12">
          <p style="font-weight: bold;">
            <i class="fas fa-check"></i> 이용약관
          </p>
          <div class="z-depth-1 block">
            {% load_markdown 'accounts/md/terms_of_use.md' as markdown_content %}
            {{ markdown_content|safe }}
          </div>
          <div class="col-12 text-right">
            <label style="padding-top: 10px;">
              <input type="checkbox" name="agreement1" v-model="termsOfUse" />
              <span style="font-weight: bold;">이용약관에 동의합니다.</span>
            </label>
          </div>
        </div>
      </div>

      <div class="row mt-5">
        <div class="col-12">
          <p style="font-weight: bold;">
            <i class="fas fa-check"></i> 개인정보 수집 및 이용
          </p>
          <div class="z-depth-1 block">
            {% load_markdown 'accounts/md/personal_agreement.md' as markdown_content %}
            {{ markdown_content|safe }}
          </div>
          <div class="col-12 text-right">
            <label style="padding-top: 10px;">
              <input type="checkbox" name="agreement2" v-model="personalOfUse" />
              <span style="font-weight: bold;">개인정보 수집 및 이용에 동의합니다.</span>
            </label>
          </div>
        </div>

        <div class="col-12 text-center">
          <button class="small" :disabled="isDisabled" onclick="$('#consent').hide()">다음</button>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
  #consent h3 {
    font-size: 0.8rem;
    font-weight: 700;
  }
  #consent .block {
    font-size: 13px;
    background-color: white;
    border:1px solid #ddd;
    height:195px;
    overflow:auto;
    padding:5px;
  }
  /* 버튼 스타일 */
  #consent .small {
    display: inline-block;
    padding: 10px 20px;
    font-size: 16px;
    text-align: center;
    text-decoration: none;
    cursor: pointer;
    border-radius: 5px;
    background-color: #3498db; /* 버튼 배경색 */
    color: #fff; /* 버튼 텍스트 색상 */
    border: 1px solid #2980b9; /* 버튼 테두리 색상 */
  }
  
  /* 버튼 호버 효과 */
  #consent .small:hover {
    background-color: #2980b9; /* 호버 시 배경색 변경 */
  }
  #consent button:disabled,
  #consent button[disabled] {
    border: 1px solid #999999;
    background-color: #cccccc;
    color: #666666;
  }
</style>
<script type="text/javascript">
  $(function () {
    $('[data-toggle="tooltip"]').tooltip()
  })
  new Vue({
    delimiters: ['[[', ']]'],
    el: '#consent',
    data: {
      personalOfUse: false,
      termsOfUse: false
    },
    computed: {
      isDisabled() {
        return !(this.personalOfUse && this.termsOfUse)
      }
    }
  })
</script>
